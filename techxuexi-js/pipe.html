<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<iframe src="iframe.html" id="iframe"></iframe>
<script>
    (function () {
        let iframe=document.getElementById('iframe').contentWindow
        iframe.addEventListener("hashchange", function (){
            console.log("hash change:",iframe.location.hash)
        });
        let currentURL=iframe.location.href

        document.getElementById('iframe').addEventListener('load' ,function () {
            const newURL = iframe.location.href;
            if (currentURL !== newURL) {
                console.log(`URL changed from "${currentURL}" to "${newURL}"`);
                // 在这里执行你的逻辑，响应 URL 变化
                currentURL = newURL;
            }
        });
    })()
</script>


</body>
</html>
